<?xml version="1.0"?>

<!-- For more information on using transformations 
     see the web.config examples at http://go.microsoft.com/fwlink/?LinkId=214134. -->

<configuration xmlns:xdt="http://schemas.microsoft.com/XML-Document-Transform">
  <!-- Transform connection strings -->
  <connectionStrings>
    <add name="DefaultConnection" 
         connectionString="Server=your-production-server;Database=your-production-db;User Id=your-username;Password=your-password;" 
         xdt:Transform="SetAttributes" xdt:Locator="Match(name)" />
  </connectionStrings>

  <!-- Transform app settings -->
  <appSettings>
    <add key="Environment" value="Production" xdt:Transform="SetAttributes" xdt:Locator="Match(key)" />
    <add key="SomeSetting" value="ProductionValue" xdt:Transform="SetAttributes" xdt:Locator="Match(key)" />
  </appSettings>

  <!-- Transform system.web settings -->
  <system.web>
    <!-- Set custom errors to remote only -->
    <customErrors mode="RemoteOnly" xdt:Transform="SetAttributes" />
    <!-- Set compilation to release mode -->
    <compilation debug="false" xdt:Transform="SetAttributes" />
  </system.web>

  <!-- Transform system.webServer settings -->
  <system.webServer>
    <!-- Enable dynamic compression -->
    <httpCompression>
      <scheme name="gzip" dll="%Windir%\system32\inetsrv\gzip.dll" />
      <dynamicTypes>
        <add mimeType="text/*" enabled="true" />
        <add mimeType="application/javascript" enabled="true" />
        <add mimeType="application/json" enabled="true" />
      </dynamicTypes>
    </httpCompression>

    <!-- Configure logging -->
    <httpErrors errorMode="DetailedLocalOnly" defaultResponseMode="Redirect">
      <remove statusCode="500" subStatusCode="-1" />
      <error statusCode="500" prefixLanguageFilePath="" path="/Error/InternalServerError" responseMode="ExecuteURL" />
    </httpErrors>
  </system.webServer>
</configuration>
